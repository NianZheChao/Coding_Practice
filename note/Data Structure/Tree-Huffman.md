# 哈夫曼树

## 引子

树的路径长度：从树根到树中的每个结点的路径长度之和。

结点数相同时，完全二叉树的路径长度最短。

## 概念

**结点的权**：给树的结点赋以一定意义的数值，称为该结点的权。

**带权路径长度**：路径长度 * 该结点的权

**哈夫曼树**：由n个带权叶子结点构成的二叉树具有不同形态，其中WPL(Weighted Path Length of Tree)最小的二叉树，称为哈夫曼树，又叫最优二叉树，或最佳判定树。

## 创建哈夫曼树

- 初始化：根据给定的n个权值{w1,w2,...,wn}，构造n棵只有根节点的二叉树，令其权值分别为wj
- 合并
  - 在森林中选取根节点权值最小、次小的两棵树p1,p2。
  - 分别以p1,p2作为左右子树，构造一棵新的二叉树tk
    - 置tk的权值为其左右子树根节点权值之和
    - 置tk为其左右子树的双亲
    - 分别置p1,p2为tk的左右孩子
  - 从森林中删除p1,p2，并将新得到的二叉树tk加入森林中
- 重复合并步骤，直到森林中只含一棵树为止

哈夫曼树中结点总数为 $2n-1$。

哈夫曼树形态不是唯一的。（树中结点权值可能相同）

## 哈夫曼算法分析

```C
#define n 叶子数
#define m 2*n-1     //n个叶子结点的哈夫曼树，共有2n-1个结点
tepedef struct node{
    int weight;
    int parent,lchild,rchild;   //每个结点都要存储其双亲和孩子的信息
}hufmtree;
hufmtree forest[m+1];
//用顺序表存储哈夫曼树
```

